{"version":3,"sources":["uni-app:///main.js","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?ec3e","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?5667","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?1c50","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?2bf1","uni-app:///pages/discuss/discuss.vue","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?cc46","webpack:///F:/educationProject/商城/小程序/campusSecondTrad/wechatapp/pages/discuss/discuss.vue?f064"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","myTopic","myCard","myPoput","computed","onPullDownRefresh","onLoad","onReachBottom","data","show","status","loading","topicId","topicItem","discussList","queryParams","pageNum","pageSize","orderType","total","pattern","color","backgroundColor","selectedColor","buttonColor","iconColor","horizontal","vertical","direction","content","iconPath","text","active","props","c_item","type","default","methods","permi","collection","deleteTopic","uni","title","icon","duration","gotoUpdate","url","thumbs","pullTop","scrollTop","onEditorReady","html","gotoAddCard","handleCurrentChange","getTopicById","param","res","isMore","console","getDisCussList","trigger","fabClick"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,aAAa,sKAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAA0nB,CAAgB,+oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACkF9oB;AACA;AACA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;IACAC;IACAC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,4BACA,yDACA;EACAC;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACA;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAN;MACA;MACA;MACAO;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAEAC;MACAC;MACAC;MACAC;QACAC;QACA;QACAC;QACAC;MACA,GACA;QACAF;QACA;QACAC;QACAC;MACA,GACA;QACAF;QACA;QACAC;QACAC;MACA;IAEA;EACA;EACAC;IACAC;MACAC;MACAC;IACA;EAEA;EACAC;IAEAC;MACA;IACA;IACA;IACAC;MACA;MAEA;IACA;IACAC;MAGA;QACAC;UACAC;UACAC;UACAC;QACA;QACAH;MACA,yBAEA;IACA;IACA;AACA;AACA;IACAI;MACAJ;QACAK;MACA;IACA;IACA;AACA;AACA;IAEAC;MAGA;MACA;MAEA;IACA;IACAC;MACAP;QACAQ;QAAA;QACAL;MACA;IACA;IACA;IACAM;MAAA;MACAT;QACA;QACA,qCACA;UACAU;QACA;MACA;IAGA;IACAC;MACAX;QACAK;MACA;IACA;IACA;IACAO;MAEA;QACA;QACA;MACA;MAEA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEAC;kBACA3C;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA4C;gBAEA;gBAEA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;QACAC;QACA;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAH;gBACAE;gBACA;gBACA;gBACA,sBACA,8BAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;AACA;IACAE;MACAF;MACA;MACA;QACA;MACA;QACA;MACA;QACA;QACAjB;MACA;MACA;IAGA;IACA;AACA;AACA;IACAoB;MACA;MACA;MACA;MACA;IAAA;EAGA;AACA;AAAA,2B;;;;;;;;;;;;;ACpUA;AAAA;AAAA;AAAA;AAAs5B,CAAgB,g5BAAG,EAAC,C;;;;;;;;;;;ACA16B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/discuss/discuss.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/discuss/discuss.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./discuss.vue?vue&type=template&id=5e956cc8&\"\nvar renderjs\nimport script from \"./discuss.vue?vue&type=script&lang=js&\"\nexport * from \"./discuss.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discuss.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/discuss/discuss.vue\"\nexport default component.exports","export * from \"-!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./discuss.vue?vue&type=template&id=5e956cc8&\"","var components\ntry {\n  components = {\n    myTopic: function () {\n      return import(\n        /* webpackChunkName: \"components/myTopic/myTopic\" */ \"@/components/myTopic/myTopic.vue\"\n      )\n    },\n    myXhx: function () {\n      return import(\n        /* webpackChunkName: \"components/myXhx/myXhx\" */ \"@/components/myXhx/myXhx.vue\"\n      )\n    },\n    bottomInput: function () {\n      return import(\n        /* webpackChunkName: \"components/bottomInput/bottomInput\" */ \"@/components/bottomInput/bottomInput.vue\"\n      )\n    },\n    uniFab: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-fab/components/uni-fab/uni-fab\" */ \"@/uni_modules/uni-fab/components/uni-fab/uni-fab.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var this$1 = this\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.hasPermi(\"client:topic:add\") &&\n    _vm.getUserId &&\n    _vm.topicItem.userId == _vm.getUserId\n  var m1 =\n    _vm.hasPermi(\"client:topic:delete\") &&\n    _vm.getUserId &&\n    _vm.topicItem.userId == _vm.getUserId\n  if (!_vm._isMounted) {\n    _vm.e0 = function () {\n      this$1.$refs.deleteTopicPoput.open()\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./discuss.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./discuss.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"warp top30\">\r\n\t\t<myTopic :topicItem=\"topicItem\" :showFooter=\"false\" ></myTopic>\r\n\t\t<view class=\"bt-front-16 title\">\r\n\t\t\t<span>正文</span>\r\n\t\t\t<myXhx></myXhx>\r\n\t\t</view>\r\n\t\t<view class=\"topic-content card\">\r\n\t\t\t<!-- <view v-html=\"topicItem.content\"></view> -->\r\n\t\t\t<editor v-if=\"loading==true\" style=\"height: auto;\" @ready=\"onEditorReady\" read-only id=\"editor\" class=\"ql-container\" placeholder=\"内容空空如也\"></editor>\r\n\t\t</view>\r\n\t\t<view class=\"discuss-title\">\r\n\t\t\t<view class=\"left\"><span class=\"weight_600 bt-front-16\">回复区</span><myXhx width=50 ></myXhx></view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<view @click=\"thumbs()\" class=\"item\">\r\n\t\t\t\t\t<span :class=\"[topicItem.thumbs?'iconfont icon-dianzan1 dmid-front-14  icon-active':'iconfont icon-dianzan1 dmid-front-14']\" ></span>\r\n\t\t\t\t\t<span class=\"item-text dmid-front-14\" >{{topicItem.thumbsNum}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view @click=\"openInput(null)\" class=\"item\">\r\n\t\t\t\t\t<span class=\"iconfont icon-pinglun dmid-front-14\"></span>\r\n\t\t\t\t\t<span class=\"item-text dmid-front-14\" >{{topicItem.discussNum}}</span>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view  class=\"item\">\r\n\t\t\t\t\t<span class=\"iconfont icon-pinglun dmid-front-14\"></span>\r\n\t\t\t\t\t<span class=\"item-text dmid-front-14\" >{{topicItem.discussNum}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view @click=\"collection()\" class=\"item\">\r\n\t\t\t\t\t<span :class=\"[topicItem.collection?'iconfont icon-shoucang dmid-front-14  icon-active':'iconfont icon-shoucang dmid-front-14']\" ></span>\t\r\n\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view  v-if=\"hasPermi('client:topic:add') && getUserId&&topicItem.userId==getUserId\"  @click=\"gotoUpdate()\" class=\"item\">\r\n\t\t\t\t\t<span class=\"iconfont icon-bianji \"></span>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view v-if=\"hasPermi('client:topic:delete') && getUserId&&topicItem.userId==getUserId\"  @click=\"()=>{this.$refs.deleteTopicPoput.open()}\" class=\"item\">\r\n\t\t\t\t\t<span class=\"iconfont icon-shanchu dmid-front-14\"></span>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\r\n\t\t <view class=\"main-content\">\r\n\t\t\t <view style=\"display: flex;align-items: center;justify-content: center;margin: 15px;\"><span>评论区暂时关闭</span></view>\r\n\t\t \t<!-- <view v-for=\"(item,index) in discussList\"  class=\"discuss-item\" :key=\"index\">\r\n\t\t\t\t<my-card :c_item=\"item\" ></my-card>\r\n\t\t \t</view> -->\r\n\t\t </view>\r\n\t\t <!-- 加载动画 -->\r\n\t\t <!-- <myLoad :status=\"status\"></myLoad> -->\r\n\t\t <!-- 输入框-->\r\n\t\t<bottomInput></bottomInput>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 悬浮窗口 -->\r\n\t\t<uni-fab ref=\"fab\"  :pattern=\"pattern\" :content=\"content\" :horizontal=\"horizontal\" :vertical=\"vertical\"\r\n\t\t\t\t:direction=\"direction\" @trigger=\"trigger\" @fabClick=\"fabClick\" />\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\t\t<my-poput ref=\"deleteTopicPoput\" @submitForm=\"deleteTopic\" >\r\n\t\t\t<template slot=\"title\">\r\n\t\t\t\t<span>删除</span>\r\n\t\t\t</template>\r\n\t\t\t<template slot=\"content\">\r\n\t\t\t\t<span>确定删除话题？</span>\r\n\t\t\t</template>\r\n\t\t</my-poput>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport myTopic from '@/components/myTopic/myTopic.vue'\r\n\timport myCard from '@/components/myCard/myCard.vue'\r\n\timport myPoput from '@/components/myPoput/myPoput.vue'\r\n\timport {getTopicById} from \"@/api/index.js\"\r\n\timport {getDisCussListByTopicId,thumbs,deleteDiscussById,deleteTopicById,collectionTopicById,thumbsDiscuss} from \"@/api/discuss.js\"\r\n\timport {mapGetters} from \"vuex\"\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tmyTopic,\r\n\t\t\tmyCard,\r\n\t\t\tmyPoput\r\n\t\t},\r\n\t\t// onBackPress() {\r\n\t\t// \tconsole.log(\"回来了\")\r\n\t\t// \tthis.queryParams.pageNum = 1\r\n\t\t// \tthis.getDisCussList()\r\n\t\t// },\r\n\t\t//下拉刷新\r\n\t\tcomputed:{\r\n\t\t\t...mapGetters('user',['getUserId','hasPermi']),\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.queryParams.pageNum = 1;\r\n\t\t\tthis.discussList = [];\r\n\t\t\tthis.loading = 0;\r\n\t\t\tthis.getTopicById(this.topicId)\r\n\t\t\t// this.getDisCussList().then(()=>{uni.stopPullDownRefresh();})\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.queryParams.topicId = option.topicId\r\n\t\t\tthis.topicId = option.topicId\r\n\t\t\tthis.getTopicById(option.topicId)\r\n\t\t\t// this.getDisCussList()\r\n\t\t},\r\n\t\t//触底\r\n\t\tonReachBottom(){\r\n\t\t\t// console.log(\"触底了\")\r\n\t\t\t// this.handleCurrentChange();\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow:false,\r\n\t\t\t\tstatus:\"loading\",\r\n\t\t\t\tloading:false,\r\n\t\t\t\ttopicId:\"\",\r\n\t\t\t\ttopicItem:{},\r\n\t\t\t\tdiscussList:[],\r\n\t\t\t\t// 查询参数\r\n\t\t\t\tqueryParams: {\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\tpageSize: 1,\r\n\t\t\t\t\torderType: 1,\r\n\t\t\t\t\ttopicId:\"\"\r\n\t\t\t\t},\r\n\t\t\t\t//总条数\r\n\t\t\t\ttotal:0,\r\n\t\t\t\t//悬浮窗：\r\n\t\t\t\tpattern: {\r\n\t\t\t\t\tcolor: '#7A7E83',\r\n\t\t\t\t\tbackgroundColor: '#fff',\r\n\t\t\t\t\tselectedColor: '#fac843',\r\n\t\t\t\t\tbuttonColor: '#fac843',\r\n\t\t\t\t\ticonColor: '#fff'\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\thorizontal: 'right',\r\n\t\t\t\tvertical: 'bottom',\r\n\t\t\t\tdirection: 'vertical',\r\n\t\t\t\tcontent: [{\r\n\t\t\t\t\t\ticonPath: 'iconfont icon-fabiao icon-active',\r\n\t\t\t\t\t\t// selectedIconPath: '/static/image-active.png',\r\n\t\t\t\t\t\ttext: '讨论',\r\n\t\t\t\t\t\tactive: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonPath: 'iconfont icon-icon- icon-active',\r\n\t\t\t\t\t\t// selectedIconPath: '/static/home-active.png',\r\n\t\t\t\t\t\ttext: '顶部',\r\n\t\t\t\t\t\tactive: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonPath: 'iconfont icon-shuaxin icon-active',\r\n\t\t\t\t\t\t// selectedIconPath: '/static/star-active.png',\r\n\t\t\t\t\t\ttext: '刷新',\r\n\t\t\t\t\t\tactive: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tc_item:{\r\n\t\t\t\ttype:Object,\r\n\t\t\t\tdefault:null\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\r\n\t\t\tpermi(value){\r\n\t\t\t\treturn this.hasPermi(value)\r\n\t\t\t},\r\n\t\t\t//收藏\r\n\t\t\tcollection(){\r\n\t\t\t\tthis.topicItem.collection^=1;\r\n\t\t\t\t\r\n\t\t\t\tcollectionTopicById( this.topicId)\r\n\t\t\t},\r\n\t\t\tdeleteTopic(){\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdeleteTopicById(this.topicItem.id).then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"删除成功！\",\r\n\t\t\t\t\t\ticon:'exception',\r\n\t\t\t\t\t\tduration:850\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 编辑\r\n\t\t\t */\r\n\t\t\tgotoUpdate(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/addTopic/addTopic?topicId=${this.topicId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点赞\r\n\t\t\t */\r\n\t\t\t\r\n\t\t\tthumbs(){\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.topicItem.thumbsNum+=(this.topicItem.thumbs==0?1:-1)\r\n\t\t\t\tthis.topicItem.thumbs^=1\r\n\t\t\t\t\r\n\t\t\t\tthumbs(this.topicItem.id)\r\n\t\t\t},\r\n\t\t\tpullTop() {\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 0,//滚动到距离顶部为0\r\n\t\t\t\t\tduration: 500//滚动时长\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//正文初始化\r\n\t\t\tonEditorReady() {\r\n\t\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\r\n\t\t\t\t\tthis.editorCtx = res.context\r\n\t\t\t\t\tif(this.topicItem.content!=null)\r\n\t\t\t\t\t\tthis.editorCtx.setContents({\r\n\t\t\t\t\t\t\thtml:this.topicItem.content\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}).exec()\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgotoAddCard(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/addCard/addCard?topicId=${this.topicId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//分页\r\n\t\t\thandleCurrentChange(){\r\n\t\t\t\t\r\n\t\t\t\tif(!this.isMore()){\r\n\t\t\t\t\tthis.status = \"nomore\"\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tthis.queryParams.pageNum++;\r\n\t\t\t\tthis.queryParams.pageSize;\r\n\t\t\t\tthis.getDisCussList();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 拿话题\r\n\t\t\t * @param {Object} id\r\n\t\t\t */\r\n\t\t\t async getTopicById(id){\r\n\t\t\t\t\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\ttopicId : id\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await getTopicById(param);\r\n\t\t\t\t\r\n\t\t\t\tthis.topicItem = res.data\r\n\t\t\t\t\r\n\t\t\t\tthis.topicItem.thumbsNum = parseInt(this.topicItem.thumbsNum)\r\n\t\t\t\tthis.topicItem.discussNum = parseInt(this.topicItem.discussNum)\r\n\t\t\t\tthis.loading  = 1;\r\n\t\t\t},\r\n\t\t\tisMore(){\r\n\t\t\t\tif(this.queryParams.pageNum*this.queryParams.pageSize >= this.total){\r\n\t\t\t\t\tconsole.log(\"无数据\")\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 拿评论\r\n\t\t\t */\r\n\t\t\tasync getDisCussList(){\r\n\t\t\t\t\r\n\t\t\t\tthis.status = \"loading\"\r\n\t\t\t\tconst res =  await  getDisCussListByTopicId(this.queryParams);\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.discussList = [...this.discussList,...res.data.rows];\r\n\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\tif(!this.isMore())\r\n\t\t\t\t\tthis.status = \"nomore\"\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.status = \"more\"\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 悬浮按钮项点击事件\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\ttrigger(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.$refs.fab.close();\r\n\t\t\t\tif(e.index==0){\r\n\t\t\t\t\tthis.gotoAddCard();\r\n\t\t\t\t} else if(e.index==1){\r\n\t\t\t\t\tthis.pullTop();\r\n\t\t\t\t} else{\r\n\t\t\t\t\t// this.pullTop();\r\n\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t}\r\n\t\t\t\t// this.content[e.index].active = !e.item.active\r\n\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 悬浮按钮点击事件\r\n\t\t\t */\r\n\t\t\tfabClick() {\r\n\t\t\t\t// uni.showToast({\r\n\t\t\t\t// \ttitle: '点击了悬浮按钮',\r\n\t\t\t\t// \ticon: 'none'\r\n\t\t\t\t// })\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.top30{\r\n\tpadding-top: 30px;\r\n}\r\n.discuss-item{\r\n\tmargin-bottom: 50px;\r\n}\r\n.discuss-item:last-child{\r\n\tmargin-bottom: 0;\r\n}\r\n.discuss-title{\r\n\twidth: 100%;\r\n\tmargin: 40px 0;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.discuss-title > .right{\r\n\tdisplay: flex;\r\n}\r\n.discuss-title > .right > .item{\r\n\tmargin-left: 10px;\r\n}\r\n.discuss-title > .right > .item > .iconfont{\r\n\tmargin-right: 3px;\r\n}\r\n.discuss-title > .left{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n.title{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tmargin: 15px 0;\r\n}\r\n.topic-content{\r\n\tpadding: 5px;\r\n}\r\n.topic-content  img{\r\n\twidth: 100%;\r\n\t\r\n}\r\n\r\n\r\n</style>\r\n\t\r\n","import mod from \"-!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./discuss.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./discuss.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1723788177765\n      var cssReload = require(\"D:/app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}